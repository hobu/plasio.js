<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>BaseBrush - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BaseBrush.html">BaseBrush</a><ul class='methods'><li data-type='method'><a href="BaseBrush.html#bufferNeedsRecolor">bufferNeedsRecolor</a></li><li data-type='method'><a href="BaseBrush.html#colorPoint">colorPoint</a></li><li data-type='method'><a href="BaseBrush.html#deserialize">deserialize</a></li><li data-type='method'><a href="BaseBrush.html#nodeSelectionStrategy">nodeSelectionStrategy</a></li><li data-type='method'><a href="BaseBrush.html#prepare">prepare</a></li><li data-type='method'><a href="BaseBrush.html#rampConfiguration">rampConfiguration</a></li><li data-type='method'><a href="BaseBrush.html#requiredSchemaFields">requiredSchemaFields</a></li><li data-type='method'><a href="BaseBrush.html#serialize">serialize</a></li><li data-type='method'><a href="BaseBrush.html#stagingAttributes">stagingAttributes</a></li><li data-type='method'><a href="BaseBrush.html#unprepare">unprepare</a></li></ul></li><li><a href="BaseLoader.html">BaseLoader</a></li><li><a href="Box.html">Box</a><ul class='methods'><li data-type='method'><a href="Box.html#.fromBounds">fromBounds</a></li><li data-type='method'><a href="Box.html#bounds">bounds</a></li><li data-type='method'><a href="Box.html#intersects">intersects</a></li><li data-type='method'><a href="Box.html#subdivide">subdivide</a></li></ul></li><li><a href="BrushFactory.html">BrushFactory</a><ul class='methods'><li data-type='method'><a href="BrushFactory.html#.availableBrushes">availableBrushes</a></li><li data-type='method'><a href="BrushFactory.html#.createBrush">createBrush</a></li><li data-type='method'><a href="BrushFactory.html#.deregisterBrush">deregisterBrush</a></li><li data-type='method'><a href="BrushFactory.html#.deserializeBrushes">deserializeBrushes</a></li><li data-type='method'><a href="BrushFactory.html#.registerBrush">registerBrush</a></li><li data-type='method'><a href="BrushFactory.html#.serializeBrushes">serializeBrushes</a></li></ul></li><li><a href="BufferDownloadPipeline.html">BufferDownloadPipeline</a><ul class='methods'><li data-type='method'><a href="BufferDownloadPipeline.html#queue">queue</a></li></ul></li><li><a href="Device.html">Device</a><ul class='methods'><li data-type='method'><a href="Device.html#.caps">caps</a></li><li data-type='method'><a href="Device.html#.deviceSupportsPlasio">deviceSupportsPlasio</a></li><li data-type='method'><a href="Device.html#.overrideProperty">overrideProperty</a></li></ul></li><li><a href="Frustum.html">Frustum</a><ul class='methods'><li data-type='method'><a href="Frustum.html#update">update</a></li></ul></li><li><a href="FrustumLODNodePolicy.html">FrustumLODNodePolicy</a><ul class='methods'><li data-type='method'><a href="FrustumLODNodePolicy.html#hookedReload">hookedReload</a></li><li data-type='method'><a href="FrustumLODNodePolicy.html#start">start</a></li><li data-type='method'><a href="FrustumLODNodePolicy.html#stop">stop</a></li></ul></li><li><a href="GeoTransform.html">GeoTransform</a><ul class='methods'><li data-type='method'><a href="GeoTransform.html#coordinateSpaceBounds">coordinateSpaceBounds</a></li><li data-type='method'><a href="GeoTransform.html#coordinateSpaceCenter">coordinateSpaceCenter</a></li><li data-type='method'><a href="GeoTransform.html#coordinateSpaceRange">coordinateSpaceRange</a></li><li data-type='method'><a href="GeoTransform.html#transform">transform</a></li></ul></li><li><a href="GreyhoundPipelineLoader.html">GreyhoundPipelineLoader</a><ul class='methods'><li data-type='method'><a href="GreyhoundPipelineLoader.html#.load">load</a></li><li data-type='method'><a href="GreyhoundPipelineLoader.html#loadHierarchyInfo">loadHierarchyInfo</a></li><li data-type='method'><a href="GreyhoundPipelineLoader.html#queryFor">queryFor</a></li><li data-type='method'><a href="GreyhoundPipelineLoader.html#setColorChannelBrush">setColorChannelBrush</a></li><li data-type='method'><a href="GreyhoundPipelineLoader.html#setFilter">setFilter</a></li></ul></li><li><a href="LocalColorLoader.html">LocalColorLoader</a><ul class='methods'><li data-type='method'><a href="LocalColorLoader.html#additionalSchemaItems">additionalSchemaItems</a></li><li data-type='method'><a href="LocalColorLoader.html#channelColorRamp">channelColorRamp</a></li><li data-type='method'><a href="LocalColorLoader.html#colorPoint">colorPoint</a></li><li data-type='method'><a href="LocalColorLoader.html#needPropagation">needPropagation</a></li><li data-type='method'><a href="LocalColorLoader.html#prep">prep</a></li><li data-type='method'><a href="LocalColorLoader.html#propagationParamsFromLastPrep">propagationParamsFromLastPrep</a></li><li data-type='method'><a href="LocalColorLoader.html#queryFor">queryFor</a></li></ul></li><li><a href="ModeManager.html">ModeManager</a></li><li><a href="module-point-buffer-cache.PointBufferCache.html">PointBufferCache</a></li><li><a href="module-point-buffer-cache-PointBufferCache.PointBufferCache.html">PointBufferCache</a></li><li><a href="PointCloudViewer.html">PointCloudViewer</a><ul class='methods'><li data-type='method'><a href="PointCloudViewer.html#.canRunPlasio">canRunPlasio</a></li><li data-type='method'><a href="PointCloudViewer.html#getGeoTransform">getGeoTransform</a></li><li data-type='method'><a href="PointCloudViewer.html#getModeManager">getModeManager</a></li><li data-type='method'><a href="PointCloudViewer.html#getRenderer">getRenderer</a></li><li data-type='method'><a href="PointCloudViewer.html#setColorChannelBrushes">setColorChannelBrushes</a></li><li data-type='method'><a href="PointCloudViewer.html#setFilter">setFilter</a></li><li data-type='method'><a href="PointCloudViewer.html#start">start</a></li></ul></li><li><a href="TileLoader.html">TileLoader</a><ul class='methods'><li data-type='method'><a href="TileLoader.html#.loadImage">loadImage</a></li></ul></li><li><a href="TreeInfoCache.html">TreeInfoCache</a><ul class='methods'><li data-type='method'><a href="TreeInfoCache.html#nodeInfo">nodeInfo</a></li></ul></li><li><a href="TreeWalker.html">TreeWalker</a><ul class='methods'><li data-type='method'><a href="TreeWalker.html#clearAllNodes">clearAllNodes</a></li><li data-type='method'><a href="TreeWalker.html#walk">walk</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-point-buffer-cache.html">point-buffer-cache</a></li></ul><h3>Global</h3><ul><li><a href="global.html#accumulateStats">accumulateStats</a></li><li><a href="global.html#ClampSelector">ClampSelector</a></li><li><a href="global.html#compressColor">compressColor</a></li><li><a href="global.html#DEFAULT_TILE_SIZE">DEFAULT_TILE_SIZE</a></li><li><a href="global.html#enclosesBounds">enclosesBounds</a></li><li><a href="global.html#equalBounds">equalBounds</a></li><li><a href="global.html#hue2rgb">hue2rgb</a></li><li><a href="global.html#minmax">minmax</a></li><li><a href="global.html#NodeSelectionStrategy">NodeSelectionStrategy</a></li><li><a href="global.html#Parseabrush'sstringrepresentationintoausabledatastructure.">Parse a brush's string representation into a usable data structure.</a></li><li><a href="global.html#pickOne">pickOne</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">BaseBrush</h1>
    

    




<section>

<header>
    
        <h2>
        BaseBrush
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="BaseBrush"><span class="type-signature"></span>new BaseBrush<span class="signature">(brushSpec, brushScheme, brushName, params)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line112">line 112</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Create a brush instance with the given spec URL.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>brushSpec</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>A URL like string that specifies brush attributes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>brushScheme</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The scheme this brush belongs to, e.g. <tt>local</tt>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>brushName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The name for the brush.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>An arbitrary object specifying brush specific parameters.</p></td>
        </tr>

    
    </tbody>
</table>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="bufferNeedsRecolor"><span class="type-signature"></span>bufferNeedsRecolor<span class="signature">(params, strategyParams, testNodeStagedAttributes)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line191">line 191</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Determines if the passed node needs to be recolored.  The set of nodes for which this function is called are determined
by <a href="BaseBrush.html#nodeSelectionStrategy">BaseBrush#nodeSelectionStrategy</a> function.  Every node for which this function returns true is passed through
the same painting pipeline as new buffers.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters, same as the parameters passed to <a href="BaseBrush.html#prepare">BaseBrush#prepare</a>.  This params are for the node for which
the impact on already loaded node is being determined.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strategyParams</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The params returned while determining node selection selection from <a href="BaseBrush.html#nodeSelectionStrategy"><code>BaseBrush#nodeSelectionStrategy</code></a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>testNodeStagedAttributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The last staged attributes for the node being considered for re-coloring requirement.</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="colorPoint"><span class="type-signature"></span>colorPoint<span class="signature">(color, point)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line209">line 209</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Color a single point</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>color</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Number></span>


            
            </td>

            

            

            <td class="description last"><p>A 3 element array to which the color needs to be written.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>point</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Arbitrary object which represents the point being colored.  Each field is available under
its respective schema field name. e.g. point.x and point.intensity.</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="deserialize"><span class="type-signature"></span>deserialize<span class="signature">(params)</span><span class="type-signature"> &rarr; {<a href="BaseBrush.html">BaseBrush</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line137">line 137</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Takes the params are returned by the serialize call and constructs the brush instance.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>A serialized object as returned by the <a href="BaseBrush.html#serialize">BaseBrush#serialize</a> call.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A de-serialized brush.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="BaseBrush.html">BaseBrush</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="nodeSelectionStrategy"><span class="type-signature"></span>nodeSelectionStrategy<span class="signature">(params)</span><span class="type-signature"> &rarr; {<a href="global.html#NodeSelectionParams">NodeSelectionParams</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line177">line 177</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>The node selection strategy used to collect nodes to determine which nodes may need a re-color.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters of the current node for which node coloring impact needs to be determined.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Parameters indicating how to determine nodes for filtering and pre-computed parameters.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#NodeSelectionParams">NodeSelectionParams</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="prepare"><span class="type-signature"></span>prepare<span class="signature">(params, parentNode, childrenNodes)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line152">line 152</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Prepares the brush for point cloud coloring, do all async tasks of loading remote sources in this function call. This calls
provides information about the node's placement in the point cache as well by specifying the parent and children nodes this
node will receive when placed in the cache.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters for current buffer about to be colored.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parentNode</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The parent node for placement in point buffer cache, the passed object is considered opaque and is similar to what
<a href="BaseBrush.html#stagingAttributes">BaseBrush#stagingAttributes</a> returns.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>childrenNodes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;object></span>


            
            </td>

            

            

            <td class="description last"><p>All children nodes under this node in point buffer cache, an array of opaque children nodes as returned by
the <a href="BaseBrush.html#stagingAttributes">BaseBrush#stagingAttributes</a> function.</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="rampConfiguration"><span class="type-signature"></span>rampConfiguration<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line229">line 229</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Return the required clamping range factors to scale this brush's computed color values. The returned range is used to
compute the on-the-fly color ramp values on the GPU.  The returned factor here is usually the same as what is used to
compute point color based on this brush.</p>
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The clamp selector to use for this brush.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="requiredSchemaFields"><span class="type-signature"></span>requiredSchemaFields<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;String>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line218">line 218</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Return an array of schema fields required for the color source to work correctly.  This brush is only invoked
for coloring when all required fields are available in schema.</p>
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An array of schema field names.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;String></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="serialize"><span class="type-signature"></span>serialize<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line128">line 128</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>This method is called on your brush when a node is being serialized to be added to the renderer.  This function
should return all parameters needed for the brush to be recreated when the point buffer is to be painted. Please note,
only parameters which cannot be recovered from the spec string need to be included here.  The brush is recreated using
the brush's constructor and then the <a href="BaseBrush.html#deserialize">BaseBrush#deserialize</a> is called on it.</p>
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An arbitrary object with enough information to de-serialize the brush.  All attributes must be
serializable to JSON.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="stagingAttributes"><span class="type-signature"></span>stagingAttributes<span class="signature">(params, parentNode, childrenNodes)</span><span class="type-signature"> &rarr; {object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line168">line 168</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>This method is called right before the brush is un-prepared and after its done coloring the current point buffer. Anything
returned from this call is stored along with the point buffer in the point buffer cache.  These parameters are later
passed to the <a href="BaseBrush.html#bufferNeedsRecolor">BaseBrush#bufferNeedsRecolor</a> method to determine if any of the already loaded buffers need to be recolored
because of changes seen in the current buffer.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters needed to color nodes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parentNode</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The node under which the current point buffer will be staged in the point buffer cache.  The attributes
under this object will be the same as what this function returns.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>childrenNodes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;object></span>


            
            </td>

            

            

            <td class="description last"><p>Children nodes, if any, that will be placed as children of this node in point buffer cache hierarchy.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An arbitrary object stored in the point buffer cache.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="unprepare"><span class="type-signature"></span>unprepare<span class="signature">(params)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line199">line 199</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Unprepare the prepare phase for a point buffer, any resources allocated in <a href="BaseBrush.html#prepare">BaseBrush#prepare</a> call may be released here.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters, same as the parameters passed to <a href="BaseBrush.html#prepare">BaseBrush#prepare</a>.</p></td>
        </tr>

    
    </tbody>
</table>
















        
    

    

    
</article>

</section>







<section>

<header>
    
        <h2>
        BaseBrush
        </h2>
        
            <div class="class-description"><p>Base class for all brush types, all methods defined in this class need to be implemented by new brush types.
Brushes are used to color point clouds.  Brushes are responsible for providing certain methods to
allow per point coloring, have a prep and un-prep phase, as well as a way to query under what circumstances
a re-color of already colored nodes is needed.  When a re-color is needed a brush also provides for a node selector strategy,
some brushes affect all loaded nodes, some only affect the nodes in the hierarchical tree structure.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="BaseBrush"><span class="type-signature"></span>new BaseBrush<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line104">line 104</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





























    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="bufferNeedsRecolor"><span class="type-signature"></span>bufferNeedsRecolor<span class="signature">(params, strategyParams, testNodeStagedAttributes)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line191">line 191</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Determines if the passed node needs to be recolored.  The set of nodes for which this function is called are determined
by <a href="BaseBrush.html#nodeSelectionStrategy">BaseBrush#nodeSelectionStrategy</a> function.  Every node for which this function returns true is passed through
the same painting pipeline as new buffers.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters, same as the parameters passed to <a href="BaseBrush.html#prepare">BaseBrush#prepare</a>.  This params are for the node for which
the impact on already loaded node is being determined.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strategyParams</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The params returned while determining node selection selection from <a href="BaseBrush.html#nodeSelectionStrategy"><code>BaseBrush#nodeSelectionStrategy</code></a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>testNodeStagedAttributes</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The last staged attributes for the node being considered for re-coloring requirement.</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="colorPoint"><span class="type-signature"></span>colorPoint<span class="signature">(color, point)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line209">line 209</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Color a single point</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>color</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Number></span>


            
            </td>

            

            

            <td class="description last"><p>A 3 element array to which the color needs to be written.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>point</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>Arbitrary object which represents the point being colored.  Each field is available under
its respective schema field name. e.g. point.x and point.intensity.</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="deserialize"><span class="type-signature"></span>deserialize<span class="signature">(params)</span><span class="type-signature"> &rarr; {<a href="BaseBrush.html">BaseBrush</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line137">line 137</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Takes the params are returned by the serialize call and constructs the brush instance.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>A serialized object as returned by the <a href="BaseBrush.html#serialize">BaseBrush#serialize</a> call.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A de-serialized brush.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="BaseBrush.html">BaseBrush</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="nodeSelectionStrategy"><span class="type-signature"></span>nodeSelectionStrategy<span class="signature">(params)</span><span class="type-signature"> &rarr; {<a href="global.html#NodeSelectionParams">NodeSelectionParams</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line177">line 177</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>The node selection strategy used to collect nodes to determine which nodes may need a re-color.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters of the current node for which node coloring impact needs to be determined.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Parameters indicating how to determine nodes for filtering and pre-computed parameters.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#NodeSelectionParams">NodeSelectionParams</a></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="prepare"><span class="type-signature"></span>prepare<span class="signature">(params, parentNode, childrenNodes)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line152">line 152</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Prepares the brush for point cloud coloring, do all async tasks of loading remote sources in this function call. This calls
provides information about the node's placement in the point cache as well by specifying the parent and children nodes this
node will receive when placed in the cache.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters for current buffer about to be colored.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parentNode</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The parent node for placement in point buffer cache, the passed object is considered opaque and is similar to what
<a href="BaseBrush.html#stagingAttributes">BaseBrush#stagingAttributes</a> returns.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>childrenNodes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;object></span>


            
            </td>

            

            

            <td class="description last"><p>All children nodes under this node in point buffer cache, an array of opaque children nodes as returned by
the <a href="BaseBrush.html#stagingAttributes">BaseBrush#stagingAttributes</a> function.</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id="rampConfiguration"><span class="type-signature"></span>rampConfiguration<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line229">line 229</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Return the required clamping range factors to scale this brush's computed color values. The returned range is used to
compute the on-the-fly color ramp values on the GPU.  The returned factor here is usually the same as what is used to
compute point color based on this brush.</p>
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The clamp selector to use for this brush.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="requiredSchemaFields"><span class="type-signature"></span>requiredSchemaFields<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;String>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line218">line 218</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Return an array of schema fields required for the color source to work correctly.  This brush is only invoked
for coloring when all required fields are available in schema.</p>
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An array of schema field names.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;String></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="serialize"><span class="type-signature"></span>serialize<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line128">line 128</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>This method is called on your brush when a node is being serialized to be added to the renderer.  This function
should return all parameters needed for the brush to be recreated when the point buffer is to be painted. Please note,
only parameters which cannot be recovered from the spec string need to be included here.  The brush is recreated using
the brush's constructor and then the <a href="BaseBrush.html#deserialize">BaseBrush#deserialize</a> is called on it.</p>
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An arbitrary object with enough information to de-serialize the brush.  All attributes must be
serializable to JSON.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="stagingAttributes"><span class="type-signature"></span>stagingAttributes<span class="signature">(params, parentNode, childrenNodes)</span><span class="type-signature"> &rarr; {object}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line168">line 168</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>This method is called right before the brush is un-prepared and after its done coloring the current point buffer. Anything
returned from this call is stored along with the point buffer in the point buffer cache.  These parameters are later
passed to the <a href="BaseBrush.html#bufferNeedsRecolor">BaseBrush#bufferNeedsRecolor</a> method to determine if any of the already loaded buffers need to be recolored
because of changes seen in the current buffer.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters needed to color nodes.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parentNode</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The node under which the current point buffer will be staged in the point buffer cache.  The attributes
under this object will be the same as what this function returns.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>childrenNodes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;object></span>


            
            </td>

            

            

            <td class="description last"><p>Children nodes, if any, that will be placed as children of this node in point buffer cache hierarchy.</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>An arbitrary object stored in the point buffer cache.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="unprepare"><span class="type-signature"></span>unprepare<span class="signature">(params)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="brush.js.html">brush.js</a>, <a href="brush.js.html#line199">line 199</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Unprepare the prepare phase for a point buffer, any resources allocated in <a href="BaseBrush.html#prepare">BaseBrush#prepare</a> call may be released here.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#BufferParams">BufferParams</a></span>


            
            </td>

            

            

            <td class="description last"><p>Per buffer parameters, same as the parameters passed to <a href="BaseBrush.html#prepare">BaseBrush#prepare</a>.</p></td>
        </tr>

    
    </tbody>
</table>
















        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Thu Mar 16 2017 14:20:22 GMT-0500 (CDT) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>